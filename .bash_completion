# -*- mode: sh; -*-

# bash_completion:
#
# * eagerly loads ~/.bash_completion
# * loads ~/.local/share/bash-completion/* on-demand when a completion is called
#
# See https://github.com/scop/bash-completion#faq (Q. Where should I install my
# own local completions?)

# Homebrew (https://docs.brew.sh/Shell-Completion)
if type brew &>/dev/null; then
  for COMPLETION in "$(brew --prefix)"/etc/bash_completion.d/*; do
    [[ -f $COMPLETION ]] && source "$COMPLETION"
  done
fi

# Nix
if [ -d "$HOME"/.nix-profile/etc/bash_completion.d ]; then
  for COMPLETION in "$HOME"/.nix-profile/etc/bash_completion.d/*; do
    [[ -f $COMPLETION ]] && source "$COMPLETION"
  done
fi
